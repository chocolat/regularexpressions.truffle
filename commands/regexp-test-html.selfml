(trigger
    (key [[ctrl][alt][cmd]X]))

(name [Test RegExp in Clipboard])

(input selection)

(output html)

(save nothing)

(script [# put a regular expression on the clipboard and select text to be searched. Output is your document with all matches highlighted.
# add a -x before the -c to omit nonmatching lines.
# Replace `pbpaste` with a regexp string if you don't like copying first.
# You can replace or reorder the color list with any html-okay colors or #ffffff values.

echo "<html><head></head><body>"
echo "<h3>Results for /`pbpaste`/</h3><tt>"

"$TM_BUNDLE_SUPPORT/bin/hl.pl" -c "Red","Dark Blue","Dark Purple","Brown","Burgundy","Forest Green","Yellow","Pastel Green","Light Purple","Pink","Turquoise","Light Blue","Dark Grey","Orange","Grass Green" "`pbpaste`"

echo "</tt></body></html>"])